<!DOCTYPE html>
<html lang="en">
  <head><title>CSS, JS, &amp; Media not working | Forestry.io</title><meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Accept-CH" content="DPR,Width,Viewport-Width" />
<meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="apple-mobile-web-app-title" content="Forestry.io" />
<meta name="application-name" content="Forestry.io" />
<meta name="msapplication-config" content="/favicons/browserconfig.xml" />
<meta name="theme-color" content="#ffffff" />
<meta name="description" content=" /"><meta name="robots" content="noindex, nofollow" />
<meta property="og:title" content="CSS, JS, &amp; Media not working" />
<meta property="og:description" content="Sometimes you’ll find your assets aren’t loading when you preview or publish your site. This is almost always due to path issues.
The best way to solve this issue is to ensure you&rsquo;re always allowing your SSG (Static Site Generator) to generate URLs.
For example, we have a CSS file named main.css that isn’t loading when viewing subpages.
In the dev environment, we’re serving the site from localhost:4000, meaning that main." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/troubleshooting/css-js-and-media-not-working/" /><meta property="og:image" content="https://forestry.io/uploads/2018/01/OGimage-01-docs-3x.jpg" /><meta property="og:image:alt" content="Sometimes you’ll find your assets aren’t loading when you preview or publish your site. This is almost always due to path issues.
The best way to solve this issue is to ensure you&rsquo;re always allowing your SSG (Static Site Generator) to generate URLs.
For example, we have a CSS file named main.css that isn’t loading when viewing subpages.
In the dev environment, we’re serving the site from localhost:4000, meaning that main." /><meta property="article:published_time" content="2017-12-31T04:00:00&#43;00:00"/>
  <meta property="article:modified_time" content="2018-01-02T11:53:51&#43;00:00"/><meta property="og:locale" content="en" />
<meta property="article:section" content="docs" />
  <meta itemprop="name" content="CSS, JS, &amp; Media not working">
<meta itemprop="description" content="Sometimes you’ll find your assets aren’t loading when you preview or publish your site. This is almost always due to path issues.
The best way to solve this issue is to ensure you&rsquo;re always allowing your SSG (Static Site Generator) to generate URLs.
For example, we have a CSS file named main.css that isn’t loading when viewing subpages.
In the dev environment, we’re serving the site from localhost:4000, meaning that main."><meta itemprop="datePublished" content="2017-12-31T04:00:00&#43;00:00" /><meta itemprop="dateModified" content="2018-01-02T11:53:51&#43;00:00" /><meta itemprop="wordCount" content="318"><meta itemprop="image" content="https://forestry.io/uploads/2018/01/OGimage-01-docs-3x.jpg">
  <meta itemprop="keywords" content="chris-macrae,colin-garvey,dj-walker,forestry-team,forestryio,jordan-patterson,michael-soolee,régis-philibert,scott-gallant,sebastian-engels,team-forestry,beyond-static,cicd,cms,company,development-tools,frontend-friday,hugo,jekyll,static-sites,,blocks,frontend-friday,hugo,jekyll,webpack," /><meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image:src" content="https://forestry.io/uploads/2018/01/OGimage-01-docs-3x.jpg"/><meta name="twitter:title" content="CSS, JS, &amp; Media not working"/>
<meta name="twitter:description" content="Sometimes you’ll find your assets aren’t loading when you preview or publish your site. This is almost always due to path issues.
The best way to solve this issue is to ensure you&rsquo;re always allowing your SSG (Static Site Generator) to generate URLs.
For example, we have a CSS file named main.css that isn’t loading when viewing subpages.
In the dev environment, we’re serving the site from localhost:4000, meaning that main."/><meta name="twitter:site" content="@forestryio"/><meta name="generator" content="Hugo 0.42.1" />
<link rel="stylesheet" href="/css/styles.min.css?8bc5e92b0a0323c085841879264ee2f8" type="text/css" /><link rel="manifest" href="/favicons/manifest.json" />
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16" />
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#00c7b7" />
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KL5HP9Q');</script>



<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://forestry.io",
    "logo": "/img/forestry-full.svg",
    "sameAs": ["https://www.twitter.com/forestryio"]
  }
  </script>
</head>
  <body class="section-docs kind-page type-docs ">
    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KL5HP9Q" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <header class="header container docs">
  <div class="left-block">
    <a href="/" title="Go to homepage" class="logo"></a>
  </div>
  <div class="right-block"><div class="search">
      <input type="search" name="search" placeholder="Search the docs..." class="search--input">
    </div><nav class="nav">
      <div class="nav-content">
        <a href="/" class="mini-nav--logo"></a>
        <ul class="main-nav-items"><li>
              <a href="/pricing/" class="nav-item">Pricing</a>
            </li><li>
              <a href="/docs/welcome/" class="nav-item">Docs</a>
            </li><li>
              <a href="/blog/" class="nav-item">Blog</a>
            </li><li data-signed-in="false" data-user>
              <a href="https://app.forestry.io/settings" class="nav-item">My Account</a>
            </li><li data-signed-out="true">
              <a href="https://app.forestry.io/login" class="nav-item">Login</a>
            </li><li class="nav-item" data-signed-in="false">
                <a class="signup-button button small primary" href="https://app.forestry.io/dashboard">Dashboard</a>
              </li><li data-signed-out="true">
              <a class="signup-button button small primary" href="https://app.forestry.io/signup">Sign up</a>
            </li></ul><div class="docs-nav-items"><h3>Troubleshooting</h3>
  <ul><li><a href="/docs/troubleshooting/using-a-git-submodule-for-your-theme/">Using a Git submodule for your theme</a></li><li><a href="/docs/troubleshooting/could-not-locate-gemfile-or-bundle-directory/">Could not locate Gemfile or .bundle/ directroy</a></li><li><a href="/docs/troubleshooting/cname/">How do I add a CNAME to my site?</a></li><li><a href="/docs/troubleshooting/cant-publish-preview-or-save/">Can&#39;t publish, preview, or save</a></li><li><a href="/docs/troubleshooting/css-js-and-media-not-working/" class="active">CSS, JS, &amp; Media not working</a></li><ul class="table-of-contents"><li class="level-2">
              <a href="https://forestry.io/docs/troubleshooting/css-js-and-media-not-working/#environment-based-urls">Environment-based URLs</a>
            </li><li class="level-2">
              <a href="https://forestry.io/docs/troubleshooting/css-js-and-media-not-working/#urls-with-jekyll">URLs with Jekyll</a>
            </li><li class="level-2">
              <a href="https://forestry.io/docs/troubleshooting/css-js-and-media-not-working/#urls-with-hugo">URLs with Hugo</a>
            </li></ul></ul></div></div>
    </nav>
    <div class="mini-nav--toggle"><img class="toggle-open" src="/img/navtoggle-open.svg" alt="Open nav"><img class="toggle-close" src="/img/navtoggle-close.svg" alt="Close nav">
    </div>
  </div>
</header><main class="docs-container">
    <div class="sidebar">
      <aside class="sidebar-inner">
        <h2>
          <a href="/docs">
            Docs
          </a>
        </h2><div class="docs-nav-items"><h3>Troubleshooting</h3>
  <ul><li><a href="/docs/troubleshooting/using-a-git-submodule-for-your-theme/">Using a Git submodule for your theme</a></li><li><a href="/docs/troubleshooting/could-not-locate-gemfile-or-bundle-directory/">Could not locate Gemfile or .bundle/ directroy</a></li><li><a href="/docs/troubleshooting/cname/">How do I add a CNAME to my site?</a></li><li><a href="/docs/troubleshooting/cant-publish-preview-or-save/">Can&#39;t publish, preview, or save</a></li><li><a href="/docs/troubleshooting/css-js-and-media-not-working/" class="active">CSS, JS, &amp; Media not working</a></li><ul class="table-of-contents"><li class="level-2">
              <a href="https://forestry.io/docs/troubleshooting/css-js-and-media-not-working/#environment-based-urls">Environment-based URLs</a>
            </li><li class="level-2">
              <a href="https://forestry.io/docs/troubleshooting/css-js-and-media-not-working/#urls-with-jekyll">URLs with Jekyll</a>
            </li><li class="level-2">
              <a href="https://forestry.io/docs/troubleshooting/css-js-and-media-not-working/#urls-with-hugo">URLs with Hugo</a>
            </li></ul></ul></div></aside>
    </div>
    <section class="docs-content">
      <div class="container md-content">
        <h1>CSS, JS, &amp; Media not working</h1>
        
  
  
  
  
  
  
  
  
  
  
    
  
    
  
  

<p>Sometimes you’ll find your assets aren’t loading when you preview or publish your site. This is almost always due to <em>path issues</em>.</p>

<p>The best way to solve this issue is to ensure you&rsquo;re always allowing your SSG (Static Site Generator) to generate URLs.</p>

<p>For example, we have a CSS file named <code>main.css</code> that isn’t loading when viewing subpages.</p>

<p>In the dev environment, we’re serving the site from <code>localhost:4000</code>, meaning that <code>main.css</code> is served from <code>localhost:4000/main.css</code>.</p>

<p>The stylesheet code looks as follows:
<code>&lt;link src=&quot;main.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</code></p>

<p>When viewing any page at the root of the site, e.g, <code>localhost:4000</code> or <code>localhost:4000/about</code> we see the CSS as expected, but when loading a subpage such as <code>localhost:4000/blog/post-name</code> no CSS is rendered.</p>

<p>If we add the absolute URL to the stylesheet path, we solve this problem. In this case, the stylesheet looks like this in the built site:</p>

<p><code>&lt;link src=&quot;http://localhost:4000/main.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</code></p>

<p><strong>However,</strong> you don’t want to hard-code this value in, because then it will break in your staging or preview environment.</p>

<h2 id="environment-based-urls">Environment-based URLs</h2>

<p>In order to solve this problem, Forestry sets the base URL of your site based on the environment your site is built in.</p>

<ul>
<li>By default, this is the <code>baseURL</code> set in your config file.</li>
<li>For Forestry previews, this is set to the preview environments URL.</li>
</ul>

<h2 id="urls-with-jekyll">URLs with Jekyll</h2>

<p>In Jekyll, baseURL is the base <em>path</em> your site should be served from. If your site is located at <code>http://example.com/blog/</code> than baseURL is <code>/blog</code>.</p>

<p>In order to properly set up a URL with Jekyll, a url should be built using Jekyll&rsquo;s built-in <code>absolute_url</code> or <code>relative_url</code> filters as follows:</p>

<p><code>&lt;link src=&quot;{{ &quot;main.css | absolute_url }}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</code></p>

<h2 id="urls-with-hugo">URLs with Hugo</h2>

<p>In Hugo, baseURL is the full path to your site, including domain. In order words, it’s <code>http://example.com/blog</code>.</p>

<p>Hugo has built-in functions for building URLs called <code>absURL</code> and <code>relURL</code>, so setting this up is easy:</p>

<p><code>&lt;link src=&quot;{{ &quot;main.css&quot; | absURL }}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</code></p>


        <nav class="pagination"><a href="/docs/troubleshooting/cant-publish-preview-or-save/" rel="prev"><span class="prev-doc">Can&#39;t publish, preview, or save</span></a></nav><hr />
        <div class="doc--info">
          <span class="doc--meta-label">Last updated on</span>
          <span class="doc--date">January 2, 2018</span>
        </div>
        <div class="post--feedback">
          <p><small>Caught a mistake or want to contribute to the docs? Edit this page on <a href="https://github.com/forestryio/forestry.io/edit/master/hugo/content/docs/troubleshooting/css-js-and-media-not-working.md" target="_blank">Github</a>!</small></p>
        </div></div>
    </section>
  </main><footer class="footer">
  <div class="container">
    <div class="columns">
      <div class="column">
        <a href="https://forestry.io" title="Go to homepage">
          <img src="/img/forestry-symbol.svg" width="auto" height="24" alt="Forestry Logo">
        </a>
      </div><div class="column">
        <span class="footer-title">Product</span><ul><li><a href="/pricing/">Pricing</a></li><li><a href="/docs/guides/">Guides</a></li><li><a href="/docs/welcome/">Docs</a></li></ul></div><div class="column">
        <span class="footer-title">Company</span><ul><li><a href="/support/">Support</a></li><li><a href="/careers/">Careers</a></li><li><a href="/privacy/">Privacy Policy</a></li><li><a href="/terms/">Terms of Use</a></li></ul></div><div class="column">
        <p>Join our slack community and get daily
        updates on product updates.</p>
        <a href="https://t.co/OANAJYol8Y" target="_blank">
          <img class="slack-logo" src="/img/logos/slack.svg" width="auto" height="24" alt="Slack">
        </a>
      </div></div>
  </div>
  <div class="lower-footer">
    <div class="container">
      <div>&copy; 2015-2018 Forestry.io. All rights reserved.</div>
      <div class="contact">
        <ul><li><a href="https://twitter.com/forestryio" target="_blank"><img src="/img/logos/twitter.svg" height="16" alt="Twitter"></a></li><li><a href="https://t.co/OANAJYol8Y" target="_blank"><img src="/img/logos/slack-symbol.svg" height="16" alt="Slack"></a></li><li><a href="mailto:support@forestry.io"><img src="/img/email.svg" height="12" alt="Email"></a></li></div>
    </div>
  </div>
</footer>

<script async src="/js/ads.min.js?29266ec47ce27c430a15fdc427a3edb7" type="text/javascript"></script>

<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.20.1/moment.min.js"></script>

<script src="/js/scripts.min.js?82c1bc8cc6e9cab7998352a7281b74a5" type="text/javascript"></script><aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">
      <div class="search-header--sticky">
        <div class="search-results--stats">
          <div id="stats"></div>
          <a href="https://algolia.com" target="_blank"><img src="/img/logos/search-by-algolia.svg" alt="Powered by Algolia" width="100" class="search-results--poweredby" /></a>
        </div>
        <div class="search-results--filters"></div>
      </div>
    </section>
    <section class="section section-search-results">
    </section>
  </div>
</aside></body>
</html>